<section class="d-block m-auto d-flex justify-content-center">
<%= form_with model: @post, url: @action == 'edit' ?   post_path : posts_new_path, method: @action=='edit' ? :patch : :post , id:'form'  do |form| %>
    <div class="m-4">
        

        <%= form.label :title, "Title :"%><br>
        <%= form.text_field :title , class:'input form-control'%><br>
        
        <%= form.label :description , "Description :"%><br>
        <%= form.text_area :description , size: 100*5, class:'input form-control' %><br>

        <%= form.label :post, "Upload File :"%><br>
        <%= form.file_field :post , class:''%><br>

        <div class="d-flex justify-content-center m-3">
            <%= link_to "Back", :back, class:"btn btn-secondary m-3" %>
            <input type="button" class="btn-secondary btn m-3" value="Submit" id="btn"></input><br>
        </div>
    </div>
</section>
<%end%>

<script>
    var submit = document.querySelector(".btn");

    submit.addEventListener('click', inputs);
    var input = document.querySelectorAll(".input");

    
    var regexTitle = /^[a-zA-Z\s]+$/;
    var regexDescription = /^(.{30,})$/

    var alerts = ["Title must be Present", "Description must be Present"]

    var alert1 = ["Title only Contains Character A-z", "Description Length should be Greater than 30 Characters"]
    var regex = [ regexTitle, regexDescription]
    var altArr = [];
    function inputs() {

       

        for (i = 0; i <input.length; i++) {
            if (input[i].value != "" && !regex[i].test(input[i].value)) {
                console.log(input[i].value);
                alert(alert1[i]);
                break;
            
            } 
            else if (input[i].value == "") {
                altArr.push(alerts[i]);
                alert(altArr);
                break;

                
            }
        }
        // alert(altArr);
        form.submit()
               
    }
</script>